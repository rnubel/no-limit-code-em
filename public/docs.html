<!DOCTYPE html>
<html>

  <head>
    <title>No Limit Code 'Em | Docs</title>
    <link href="/assets/application.scss" media="all" rel="stylesheet" type="text/css" />
    <meta content="authenticity_token" name="csrf-param" />
    <meta content="cVlN8pDZ3+cIL/mQTA7PDZgd3b5Etu4nQYzQt+hs01g=" name="csrf-token" />
  </head>

  <body class='docs'>
    <div class='navbar'>
      <div class='navbar-inner'>
        <div class='container'>
          <a class='logo' href='/'>No Limit Code 'Em</a>
          <div class='pull-right'>
            <div class="btn-group">
              <a class="btn" href="/rules.html">Rules</a>
              <a class="btn active" href="/docs.html">Docs</a>
              <a class="btn" href="/help.html">Help</a>
              <a class="btn" href="/code.html">Example</a>
              <a class="btn" href="/sandbox_testing.html">Sandbox</a>
            </div> 
          </div>
        </div>
      </div>
    </div>

    <div class='container'>
      <div class='row'>
        <div class='span8'>
          <section id='content'>
            <h2>
              Requests 
              <div class='loader'></div>
            </h2>

            <div class='poker_tables_wrapper'>
              <div id='poker_tables'>
                <p>There are 2 types of request you will need to make to the server. GET and POST.</p>
              </div>
            </div>
          </section>

          </br>

          <section id='content'>
            <h2>
              <strong>GET</strong> /api/players/PLAYER_KEY (Receive the current state of the game)
              <div class='loader'></div>
            </h2>

            <div class='poker_tables_wrapper'>
              <div id='poker_tables'>
                <h4>Syntax</h4>
                <h5>// This request will allow us to validate your player key and return the appropriate information.</h5>

                <h5>Response</h5>
                <pre>
json
{
// Returns your name
      "name" =>"Lacey Kuhic", 

// Returns your stack at the start of the round
      "initial_stack" => 500, 

// Returns true if it is your turn and false if it is not your turn
      "your_turn" => false, 

// Returns your current bet
      "current_bet" => 50, 

// Returns your minimum bet to stay in the round
      "minimum_bet" => 50,

// Returns your maximum bet that you can place
      "maximum_bet" => 500, 

// Returns your five-card hand
      "hand" => ["2S", "TH", "AH", "AD", "2D"],

// Returns the current state of the round: 
	["deal", "draw", "post_draw", "showdown"]
// You should bet when the betting_phase is "deal" or "post_draw" and
// you should replace cards when the betting_phase is "draw"
      "betting_phase" => "bet", 

// Returns the state of all players at the current table
      "players_at_table" => [{:player_name=>"Aida Gusikowski", 
			      :initial_stack=>250, 
		              :current_bet=>20, 
			      :actions=>[{:action=>"ante", 
				          :amount=>20}, 
					 {:action=>"bet", 
					  :amount=>20},..]
			     }

// Returns the id of your table
      "table_id" => 12, 

// Returns the id of the current round
      "round_id" => 59, 

// Returns a log of all rounds that you have played
      "round_history" => [{:round_id=>59, :table_id=>3, 
         :stack_change=>2368}, {:round_id=>58,    
         :table_id=>3, :stack_change=>120}, ...], 

// Returns the time at which you lose 
      "lost_at" => nil
} </pre>
              </div>
            </div>

          </section>

          </br>

          <!-- <section id='content'>
          			// NEED TO EDIT OR REMOVE
                      <h2>
                        Explanation of Response 
                        <div class='loader'></div>
                      </h2>
                      <div class='docs poker_tables_wrapper'>
                        <div class='clearfix'></div>
                        <table class='table table-striped' id='scoreboard'>
                          <thead>
                            <tr>
                              <th>Term</th>
                              <th>Description</th>
                            </tr>
                          </thead>
                          <tr>
                            <td>"play"</td>
                            <td>Signal that it is your turn</td>
                          </tr>
                          <tr>
                            <td>"replacement"</td>
                            <td>true signals that you should be making a post request to replace your cards</td>
                          </tr>
                          <tr>
                            <td>"bet" and "min_bet"</td>
                            <td>If these two are different, your actions are limited to "call", "raise", or "fold".  If these two are the same value, your actions are limited to "check", "bet", or "fold".
          </td>
                          </tr>
                          <tr>
                            <td>"waiting"</td>
                            <td>True signals that your table is waiting for all other tables to be ready to reshuffle the seats.</td>
                          </tr>
                        </table>
                      </div>
                    </section> -->

          </br>

          <section id='content'>

            <h2>
              <strong>POST</strong> /api/players/PLAYER_KEY/action 
				(place your bet or replace your cards)
              <div class='loader'></div>
            </h2>

            <div class='poker_tables_wrapper'>
              <div id='poker_tables'>
                <h4>Syntax</h4>

                <h5>Request</h5>
                
                <pre>
{
// Either set your action as "bet" or "replace"
     :action_name => "bet",

// If you are betting, set you bet, otherwise leave it as nil when replacing
     :amount => 50,

// If you are replacing, set cards as an array of the cards you are discarding
     :cards => ["3d", "Qs"]
}
                </pre>

                <h5>Response</h5>
                <p>No JSON response is returned from the server.</p>

              </div>
            </div>

          </section>

        </div>

      </div>
    </div>

  </body>
</html>

